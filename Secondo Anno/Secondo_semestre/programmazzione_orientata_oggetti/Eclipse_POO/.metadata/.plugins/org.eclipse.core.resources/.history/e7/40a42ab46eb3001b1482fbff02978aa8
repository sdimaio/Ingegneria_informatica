package it.uniroma3.DiaDia.Ambienti;

import it.uniroma3.DiaDia.Attrezzi.Attrezzo;

public class StanzaBloccata extends Stanza{
	private String dir;
	private String att;
	public StanzaBloccata(String nome) {
		super(nome);
		this.dir = new String("nord");
		this.att = new String("piedediporco");
	}
	
	@Override
	public Stanza getStanzaAdiacente(String direzione) {
		 Stanza stanza = null;
		 if(!dir.equals(direzione)) {
			 for(int i=0; i<getNumeroStanzeAdiacenti(); i++)
	        	if (getDirezioni()[i].equals(direzione)) {
	        		stanza = getStanzeAdiacenti()[i];
			 		return stanza;
	        	}
		 }
		 else if(this.hasAttrezzo(att)) {
			 for(int i=0; i<getNumeroStanzeAdiacenti(); i++)
		        	if (getDirezioni()[i].equals(direzione)) {
		        		stanza = getStanzeAdiacenti()[i];
		        		return stanza;
		        	}
		 }
		 return this;
	}
	
	@Override 
	public String toString() {
		StringBuilder risultato = new StringBuilder();
    	risultato.append(getNome());
    	risultato.append("\nUscite: ");
    	for (String direzione : getDirezioni())
    		if (direzione!=null) {
    			if(!dir.equals(direzione))
    				risultato.append(" " + direzione);
    			else
    				risultato.append(" " + "bloccata(" + dir + ")");
    		}
    	risultato.append("\nAttrezzi nella stanza: ");
    	for (Attrezzo attrezzo : getAttrezzi()) {
    		if(attrezzo!=null) {
    			risultato.append(attrezzo.toString()+" ");
    		}
    	}
    	return risultato.toString();
	}
	
	@Override
	public String getDescrizione() {
		return this.toString();
	}
//	@Override
//	public String getDescrizione() {
//		System.out.println("Questa è una stanza bloccata nella direzione "+ dir );
//		return this.toString();
//	}

}
